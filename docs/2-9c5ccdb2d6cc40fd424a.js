(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{231:function(e,t,l){"use strict";l(100);var a=l(0),i=l.n(a),r=l(294),s=l(234),o=l.n(s),n=i.a.createContext({}),d=n.Provider,c=(n.Consumer,n),u=(l(96),l(64),l(41),l(190),l(98),l(99),l(42),l(374)),f=l.n(u);function p(e,t){var l=Object.assign({},e);switch(t.type){case"filter":return l.filteredAlbums=f()(l.allAlbums,function(e){return e.title.includes(t.filter.toLowerCase())||e.field_genre.includes(t.filter.toLowerCase())}),Object.keys(l.rowControl).map(function(e){return parseInt(e,10)===l.filteredAlbums.length?(l.rowControl[e].active=!0,l.rowControl[e].disabled=!1):(l.rowControl[e].active=!1,parseInt(e,10)>l.filteredAlbums.length?l.rowControl[e].disabled=!0:l.rowControl[e].disabled=!1),l.rowControl}),l.filteredAlbums.length>50?l.rows=50:l.rows=l.filteredAlbums.length,l;case"sort":return l.filteredAlbums=o()(l.filteredAlbums,t.column,t.order),l.selectedSort=t.column,l.selectedList="none",l;case"list":return l.filteredAlbums=o()(l.filteredAlbums,t.column,t.order),l.selectedList=t.column,l.selectedSort="none",l;case"set rows":return Object.keys(l.rowControl).map(function(e){return parseInt(e,10)===t.newRows?l.rowControl[e].active=!0:l.rowControl[e].active=!1,l.rowControl}),l.rows=t.newRows,l;default:return e}}var m={5:{rows:5,active:!1,disabled:!1},10:{rows:10,active:!1,disabled:!1},25:{rows:25,active:!1,disabled:!1},50:{rows:50,active:!0,disabled:!1}},b=l(5),_=l.n(b),g=l(40),S=l.n(g);l(253),i.a.createContext({});_.a.object,_.a.string.isRequired,_.a.func,_.a.func;var h=l(165),w=l(473),v=Object(h.b)(w.a).withConfig({displayName:"Gear__GearIcon",componentId:"u47kj0-0"})(["opacity:1 !important;font-size:2.5rem !important;color:black;"]),y=function(){return i.a.createElement(v,{iconName:"pt-icon-cog"})},C=l(475),A=h.b.div.withConfig({displayName:"RowControl__RowControlWrapper",componentId:"sc-1u7dp1j-0"})(["margin-bottom:1rem;"]),x=function(e){var t=Object(a.useContext)(c),l=t.appState.rowControl,r=t.dispatchApp;return i.a.createElement(A,null,i.a.createElement("p",null,e.label),i.a.createElement("div",{className:"pt-button-group pt-large pt-fill"},Object.keys(l).map(function(e){return i.a.createElement(C.a,{key:e,active:l[e].active,disabled:l[e].disabled,onClick:function(){return r({type:"set rows",newRows:l[e].rows})}},e)})))},E=h.b.div.withConfig({displayName:"SearchInput__SearchInputWrapper",componentId:"n88ikz-0"})(["margin-bottom:1rem;"]),k=function(e){var t=Object(a.useContext)(c),l=t.dispatchApp,r=t.setSelectedAlbum;return i.a.createElement(E,{className:"pt-input-group pt-large pt-minimal"},i.a.createElement("span",{className:"pt-icon pt-icon-search"}),i.a.createElement("input",{className:"pt-input",type:"search",placeholder:e.placeholder,dir:"auto",onChange:function(e){r("0"),l({type:"filter",filter:e.target.value})}}))},N=function(e){var t=Object.keys(e.sortControl.options);return i.a.createElement("label",{className:"pt-label"},e.label,i.a.createElement("div",{className:"pt-select pt-minimal pt-large"},i.a.createElement("select",{value:e.value,onChange:e.sortAlbums},t.map(function(t){return i.a.createElement("option",{key:t,value:e.sortControl.options[t].field},e.sortControl.options[t].label)}))))},j=(l(387),{options:{none:{field:"none",label:"None",defaultSort:"asc"},field_artist:{field:"field_artist",label:"Artist",defaultSort:"asc"},field_album:{field:"field_album",label:"Album",defaultSort:"asc"},field_genre:{field:"field_genre",label:"Genre",defaultSort:"asc"},field_avg:{field:"field_avg",label:"Average",defaultSort:"asc"},field_cons_score:{field:"field_cons_score",label:"Consensus Score",defaultSort:"asc"},field_lists:{field:"field_lists",label:"Lists",defaultSort:"desc"},field_top_10s:{field:"field_top_10s",label:"Top Ten",defaultSort:"desc"},field_wt_avg:{field:"field_wt_avg",label:"Weighted Average",defaultSort:"asc"}}}),I={options:{none:{field:"none",label:"None",defaultSort:"asc"},rtrade_list:{field:"rtrade_list",label:"Rough Trade",defaultSort:"asc"},q_list:{field:"q_list",label:"Q",defaultSort:"asc"},rstone_list:{field:"rstone_list",label:"Rolling Stone",defaultSort:"asc"},paste_list:{field:"paste_list",label:"Paste",defaultSort:"asc"},nme_list:{field:"nme_list",label:"NME",defaultSort:"asc"},mojo_list:{field:"mojo_list",label:"Mojo",defaultSort:"asc"},drwnd_list:{field:"drwnd_list",label:"Drowned in Sound",defaultSort:"asc"},cos_list:{field:"cos_list",label:"Consequence of Sound",defaultSort:"asc"},uncut_list:{field:"uncut_list",label:"Uncut",defaultSort:"asc"},skinny_list:{field:"skinny_list",label:"The Skinny",defaultSort:"asc"},cmplx_list:{field:"cmplx_list",label:"Complex",defaultSort:"asc"},crack_list:{field:"crack_list",label:"Crack Magazine",defaultSort:"asc"},gvsb_list:{field:"gvsb_list",label:"Gorilla vs Bear",defaultSort:"asc"},noisey_list:{field:"noisey_list",label:"Noisey",defaultSort:"asc"},quietus_list:{field:"quietus_list",label:"The Quietus",defaultSort:"asc"},strgum_list:{field:"strgum_list",label:"Stereogum",defaultSort:"asc"},uproxx_list:{field:"uproxx_list",label:"Uproxx",defaultSort:"asc"},vnlfct_list:{field:"vnlfct_list",label:"The Vinyl Factory",defaultSort:"asc"},wire_list:{field:"wire_list",label:"Wire",defaultSort:"asc"},popmat_list:{field:"popmat_list",label:"Pop Matters",defaultSort:"asc"},pfork_list:{field:"pfork_list",label:"Pitchfork",defaultSort:"asc"},npr_list:{field:"npr_list",label:"NPR",defaultSort:"asc"},spin_list:{field:"spin_list",label:"Spin",defaultSort:"asc"},line_list:{field:"line_list",label:"Line",defaultSort:"asc"},tmt_list:{field:"tmt_list",label:"Tiny Mix Tapes",defaultSort:"asc"},altern_list:{field:"altern_list",label:"The Alternative",defaultSort:"asc"},fact_list:{field:"fact_list",label:"Fact",defaultSort:"asc"}}},T={options:{none:{field:"none",label:"None",defaultSort:"asc"},rtrade_list:{field:"rtrade_list",label:"Rough Trade",defaultSort:"asc"},uncut_list:{field:"uncut_list",label:"Uncut",defaultSort:"asc"},mojo_list:{field:"mojo_list",label:"Mojo",defaultSort:"asc"},cos_list:{field:"cos_list",label:"Consequence of Sound",defaultSort:"asc"},line_list:{field:"line_list",label:"Line",defaultSort:"asc"},npr_list:{field:"npr_list",label:"NPR",defaultSort:"asc"},quietus_list:{field:"quietus_list",label:"The Quietus",defaultSort:"asc"},strgum_list:{field:"strgum_list",label:"Stereogum",defaultSort:"asc"},uproxx_list:{field:"uproxx_list",label:"Uproxx",defaultSort:"asc"},billbrd_list:{field:"billbrd_list",label:"Billboard",defaultSort:"asc"},cmplx_list:{field:"cmplx_list",label:"Complex",defaultSort:"asc"},crack_list:{field:"crack_list",label:"Crack Magazine",defaultSort:"asc"},mscomh_list:{field:"mscomh_list",label:"MusicOMH",defaultSort:"asc"},noisey_list:{field:"noisey_list",label:"Noisey",defaultSort:"asc"},pfork_list:{field:"pfork_list",label:"Pitchfork",defaultSort:"asc"},popmat_list:{field:"popmat_list",label:"Pop Matters",defaultSort:"asc"},wire_list:{field:"wire_list",label:"Wire",defaultSort:"asc"},nme_list:{field:"nme_list",label:"NME",defaultSort:"asc"},spin_list:{field:"spin_list",label:"Spin",defaultSort:"asc"},rstone_list:{field:"rstone_list",label:"Rolling Stone",defaultSort:"asc"},"405_list":{field:"405_list",label:"405",defaultSort:"asc"},altern_list:{field:"altern_list",label:"The Alternative",defaultSort:"asc"},blare_list:{field:"blare_list",label:"Blare",defaultSort:"asc"},earbud_list:{field:"earbud_list",label:"Earbud",defaultSort:"asc"},fact_list:{field:"fact_list",label:"Fact",defaultSort:"asc"},giitv_list:{field:"giitv_list",label:"God is in the TV",defaultSort:"asc"},q_list:{field:"q_list",label:"Q",defaultSort:"asc"},tmt_list:{field:"tmt_list",label:"Tiny Mix Tapes",defaultSort:"asc"},treble_list:{field:"treble_list",label:"Treble",defaultSort:"asc"},vinfac_list:{field:"vinfac_list",label:"The Vinyl Factory",defaultSort:"asc"},guard_list:{field:"guard_list",label:"The Guardian",defaultSort:"asc"}}},R=function(e){var t,l=Object(a.useContext)(c),r=l.appState.selectedSort,s=l.appState.selectedList,o=l.dispatchApp,n=l.appState.year;return 2017===n&&(t=I),2018===n&&(t=T),i.a.createElement("div",{className:"control-panel"},i.a.createElement(y,null),i.a.createElement("h2",null,e.header),i.a.createElement(x,{label:"Number of Results:"}),i.a.createElement(k,{placeholder:"Filter by Album, Artist or Genre"}),i.a.createElement(N,{label:"Sort by:",sortControl:j,value:r,sortAlbums:function(e){return o({type:"sort",column:e.target.value,order:j.options[e.target.value].defaultSort})}}),i.a.createElement(N,{label:"View List:",sortControl:t,value:s,sortAlbums:function(e){return o({type:"list",column:e.target.value,order:t.options[e.target.value].defaultSort})}}),i.a.createElement("h4",null,"Jump to: ",i.a.createElement(S.a,{to:"/2018"},"2018")," / ",i.a.createElement(S.a,{to:"/2017"},"2017")),i.a.createElement("p",null,"Data: ",i.a.createElement("a",{href:"http://robmitchum.github.io/aotysheets.html",target:"_blank",rel:"noopener noreferrer"},"Album of the Year List Project")))},O=l(476);l(470),h.b.div.withConfig({displayName:"Album__AlbumRow",componentId:"uedi8k-0"})(["margin-top:1rem;:first-child{margin-top:.05rem;}:last-child{margin-bottom:1rem;}",""],function(e){return e.activeAlbum&&Object(h.a)(["border:1px solid dodgerblue;"])}),h.b.li.withConfig({displayName:"Album__Number",componentId:"uedi8k-1"})(["margin-left:1rem;line-height:1.25;font-size:16px;"]),h.b.div.withConfig({displayName:"Album__AlbumSection",componentId:"uedi8k-2"})(["display:inline-block;margin-left:.5rem;margin-right:.5rem;img{border:1px solid dodgerblue;}div{color:dodgerblue;}h4{margin-bottom:5px;}"]),l(388),h.b.div.withConfig({displayName:"AlbumDetail__AlbumContainer",componentId:"sc-1jsha1m-0"})(["width:40%;height:91vh;float:left;padding-left:1rem;padding-bottom:1rem;overflow:scroll;overflow-wrap:break-word;hyphens:auto;.pt-callout{max-width:324px;margin-right:1.25rem;border:1px solid dodgerblue;}h4{color:dodgerblue;}img{max-width:100%;border:1px solid white;}"]),h.b.ol.withConfig({displayName:"CoverView__AlbumList",componentId:"sc-1hu6cjj-0"})(["width:60%;float:left;overflow:scroll;height:91vh;padding-left:1px;padding-right:1.5rem;margin-top:0;"]),l(390),h.b.div.withConfig({displayName:"ListView__HeatMapWrapper",componentId:"mkpopt-0"})(["height:98vh;width:95vw;",""],function(e){return e.controlPanelExpanded&&Object(h.a)(["width:75vw;"])}),Object(h.b)(O.a).withConfig({displayName:"Visualizations__VisualizationTabs",componentId:"uvdl7e-0"})(["margin-left:75px;padding:.5rem 1rem 1rem 1rem;height:100vh;overflow:hidden;transition:all 0.2s ease-out;",""],function(e){return e.controlPanelExpanded&&Object(h.a)(["margin-left:25%;transition:all 0.2s ease-in;"])}),t.a=function(e){var t=e.allAlbums.allNodeAlbum.nodes,l=e.allAlbums.allNodeAlbum.nodes;Object(a.useEffect)(function(){t.map(function(e,t){return e.title_display=e.title,e.title=e.title.toLowerCase(),e.field_avg=parseFloat(e.field_avg),e.field_cons_score=parseFloat(e.field_cons_score),e.field_id=parseInt(e.field_id,10),e.field_lists=parseInt(e.field_lists,10),e.field_top_10s=parseInt(e.field_top_10s,10),e.field_wt_avg=parseFloat(e.field_wt_avg),e.field_genre?(e.field_genre_display=e.field_genre,e.field_genre=e.field_genre.toLowerCase()):e.field_genre="n/a",e.field_list_rankings.forEach(function(t){var l=t.split(":");e[l[0]+"_list"]=isNaN(parseInt(l[1],10))?101:parseInt(l[1],10),e[l[0]]=isNaN(parseInt(l[1],10))?"":parseInt(l[1],10)}),e}),l=o()([].concat(t),"field_cons_score","asc")},[]);var s={allAlbums:t,filteredAlbums:l,rowControl:m,selectedSort:"field_cons_score",selectedList:"none",rows:50,year:e.year},n=Object(a.useReducer)(p,s),c=n[0],u=n[1],f=Object(a.useState)("0"),b=f[0],_=f[1];return i.a.createElement(d,{value:{appState:c,dispatchApp:u,selectedAlbum:b,setSelectedAlbum:_}},i.a.createElement(r.Helmet,null,i.a.createElement("script",{src:"//cdnjs.cloudflare.com/ajax/libs/dom4/2.0.0/dom4.js"}),i.a.createElement("link",{rel:"stylesheet",type:"text/css",href:"//unpkg.com/@blueprintjs/core@1.40.0/dist/blueprint.css"})),i.a.createElement("div",{className:"App"},i.a.createElement(R,{header:"Best of Best of "+e.year})))}},253:function(e,t,l){var a;e.exports=(a=l(376))&&a.default||a},376:function(e,t,l){"use strict";l.r(t);l(42);var a=l(0),i=l.n(a),r=l(5),s=l.n(r),o=l(89),n=function(e){var t=e.location,l=e.pageResources;return l?i.a.createElement(o.a,Object.assign({location:t,pageResources:l},l.json)):null};n.propTypes={location:s.a.shape({pathname:s.a.string.isRequired}).isRequired},t.default=n}}]);
//# sourceMappingURL=2-9c5ccdb2d6cc40fd424a.js.map